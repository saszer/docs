---
title: "AI Assistant (Chat)"
description: "Conversational AI assistant for financial insights, actions, and guidance"
---

## Overview

The AI Assistant provides a secure, conversational chat experience to query finances, get insights, and trigger actions. Conversations are persisted per user and protected by authentication.

<CardGroup cols={3}>
  <Card title="Persistent Conversations" icon="message-circle">
    Your chats are saved with full history per conversation.
  </Card>
  <Card title="Context-Aware" icon="brain">
    Answers leverage your data, preferences, and patterns.
  </Card>
  <Card title="Secure by Default" icon="shield">
    All endpoints require auth and are isolated per user.
  </Card>
</CardGroup>

## Quick Start (App UI)

<Steps>
  <Step title="Open Chat">
    Click the chat button in the app to open the assistant.
  </Step>
  <Step title="Start a Conversation">
    Ask a question or create a new conversation to keep topics organized.
  </Step>
  <Step title="Refine & Act">
    Follow up for deeper insights or ask the assistant to perform supported actions.
  </Step>
</Steps>

## API Endpoints

All endpoints require a valid `Authorization: Bearer <token>` header. Errors include an `X-Error-ID` header for support tracing.

### Send Message

POST `/api/chat/message`

Request body:

```json
{ "message": "string", "conversationId": "optional" }
```

Successful response:

```json
{
  "success": true,
  "data": {
    "conversationId": "uuid",
    "message": {
      "id": "uuid",
      "conversationId": "uuid",
      "role": "assistant",
      "content": "...",
      "createdAt": "ISO-8601"
    },
    "toolsUsed": ["optional", "list"]
  }
}
```

### List Conversations

GET `/api/chat/conversations`

Response:

```json
{ "success": true, "data": [ { "id": "uuid", "title": "AI2Fin Assistant", "messageCount": 0, "createdAt": "ISO-8601", "updatedAt": "ISO-8601" } ] }
```

### Create Conversation

POST `/api/chat/conversations`

Response:

```json
{ "success": true, "data": { "id": "uuid" } }
```

### Get Conversation Messages

GET `/api/chat/conversations/:id`

Response:

```json
{ "success": true, "data": [ { "id": "uuid", "role": "user", "content": "...", "createdAt": "ISO-8601" } ] }
```

## Authentication

All endpoints are protected with the platform auth middleware. Provide a valid bearer token. Server-side requires `OPENAI_API_KEY` configured.

## Examples

```bash
curl -X POST https://app.ai2fin.com/api/chat/message \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"message":"Summarize my last 5 expenses","conversationId":"$CID"}'
```

```bash
curl -X GET https://app.ai2fin.com/api/chat/conversations \
  -H "Authorization: Bearer $TOKEN"
```

```bash
curl -X POST https://app.ai2fin.com/api/chat/conversations \
  -H "Authorization: Bearer $TOKEN"
```

```bash
curl -X GET https://app.ai2fin.com/api/chat/conversations/$CID \
  -H "Authorization: Bearer $TOKEN"
```

## Notes

- Responses may include `toolsUsed` when the assistant invoked internal tools.
- On failures, the API returns `{ success: false, error }` and sets `X-Error-ID`.
- Conversation history is retained for continuity and auditability.




